<!--
You are free to copy and use this sample in accordance with the terms of the
Apache license (http://www.apache.org/licenses/LICENSE-2.0.html)
-->

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:v="urn:schemas-microsoft-com:vml">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8"/>
    <title>Google Maps V3 API Sample</title>
    <script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false"></script>
    <script type="text/javascript">

      var map;
      function initialize() {
        var mapDiv = document.getElementById('map-canvas');
        map = new google.maps.Map(mapDiv, {
          center: new google.maps.LatLng(37.4419, -122.1419),
          zoom: 8,
          mapTypeId: google.maps.MapTypeId.ROADMAP
        }),
          directions = new google.maps.DirectionsService(),
          displayer = new google.maps.DirectionsRenderer({
              draggable: true
          });
        displayer.setMap(map);
        directions.route({
          origin: new google.maps.LatLng(37.4419, -122.1419),
          destination: new google.maps.LatLng(37.4430, -122.1419),
          travelMode: google.maps.DirectionsTravelMode.DRIVING,
		  waypoints: [
			{ location: new google.maps.LatLng(37.4440, -122.1419) },{ location: new google.maps.LatLng(37.4480, -122.1419)},{ location: new google.maps.LatLng(37.4419, -122.1419)} // repeat this as necessary
			]
        }, function (result) {
          displayer.setDirections(result);
        });
        //google.maps.event.addListenerOnce(map, 'tilesloaded', addMarkers);
      }
      google.maps.event.addDomListener(window, 'load', initialize);
    </script>
  </head>
  <body style="font-family: Arial; border: 0 none;">
    <div id="map-canvas" style="width: 500px; height: 400px"></div>
  </body>
</html>
?