@model IEnumerable<SMDH.Models.Plan>
@using SMDH.Models.Utilities
@using SMDH.Models.Statuses
@using System.Text.RegularExpressions;
@{
    Layout = null;
}
<table id="main-table" class="table table-bordered table-hover">
    <thead>
        <tr>
            <th>
                Plan No.
            </th>
            <th>
                Created Date
            </th>            
            <th>
                Plantype
            </th>
            <th>
                Plan Status
            </th>
            <th>
                Plan Length
            </th>
            <th>
                Action
            </th>
        </tr>
    </thead>
    <tbody>
        @foreach (var item in Model)
        {
            switch (item.PlanTypeId)
            {
                case (int)PlanTypes.CollectionPlan:
            <tr class="success" onclick="edit(@item.PlanId)">
                <td>
                    #@item.PlanId
                </td>
                <td>
                    @String.Format("{0:dd/MM/yyyy hh:mm tt}", item.CreatedDate)
                </td>                
                <td>
                    @((PlanTypes)item.PlanTypeId)
                </td>
                <td>
                    @if (item.Status == (int)PlanStatus.Assigned)
                    {
                        <span class="label label-info">Assigned</span>
                    }else
                    {
                        <span class="label label-danger">Not Assigned yet</span>
                    }
                </td>
              
                @*                <td>
                    @if (item.Status > 1)
                    {
                        <span class="label label-success">Assigned</span>
                    }
                    else
                    {
                        <span class="label">Not assigned yet</span>
                        <a href="#assignModal" data-toggle="modal" onclick="assign(@item.PlanId)" class="myToolTip" rel="tooltip" title="Assign to another staff">
                            <img src="/img/icons/arrow_right2.png" />
                        </a>
                    }
                </td>*@
                <td>
                    @((item.Distance.Value/1000).ToString("N2")) km(s)
                </td>
                @*                <td class="action-column">
                    <a class="btn action view" href="/Plans/Details/@item.PlanId">
                        <img src="/img/icons/notepad.png" alt="View" title="View"></a>
                </td>*@
                <td>
                    <a class="update btn action" href="javascript:void(0)" onclick="edit(@item.PlanId)">
                        <i class="icon-pencil"></i></a>
                </td>
            </tr>
                                                                                    break;
                case (int)PlanTypes.DeliveryPlan:
            <tr class="info" onclick="edit(@item.PlanId)">
                <td>
                    #@item.PlanId
                </td>
                <td>
                    @String.Format("{0:dd/MM/yyyy hh:mm tt}", item.CreatedDate)
                </td>                
                <td>
                    @((PlanTypes)item.PlanTypeId)
                </td>
                <td>
                    @if (item.Status == (int)PlanStatus.Assigned)
                    {
                        <span class="label label-info">Assigned</span>
                    }else
                    {
                        <span class="label label-danger">Not Assigned yet</span>
                    }
                </td>                
                @*                <td>
                    @if (item.Status > 1)
                    {
                        <span class="label label-success">Assigned</span>
                    }
                    else
                    {
                        <span class="label">Not assigned yet</span>
                        <a href="#assignModal" data-toggle="modal" onclick="assign(@item.PlanId)" class="myToolTip" rel="tooltip" title="Assign to another staff">
                            <img src="/img/icons/arrow_right2.png" />
                        </a>
                    }
                </td>*@
                <td>
                    @((item.Distance.Value/1000).ToString("N2")) km(s)
                </td>
                @*                <td class="action-column">
                    <a class="btn action view" href="/Plans/Details/@item.PlanId">
                        <img src="/img/icons/notepad.png" alt="View" title="View"></a>
                </td>*@
                <td>
                    <a class="update btn action" href="javascript:void(0)" onclick="edit(@item.PlanId)">
                        <i class="icon-pencil"></i></a>
                </td>
            </tr>
                                                                                    break;
                case (int)PlanTypes.ReturnedPlan:
            <tr class="warning" onclick="edit(@item.PlanId)">
                <td>
                    #@item.PlanId
                </td>
                <td>
                    @String.Format("{0:dd/MM/yyyy hh:mm tt}", item.CreatedDate)
                </td>                
                <td>
                    @((PlanTypes)item.PlanTypeId)
                </td>
                <td>
                   @* @if (item.Status == (int)PlanStatus.Assigned)
                    {
                        <span class="label label-info">Assigned</span>
                    }else
                    {
                        <span class="label label-danger">Not Assigned yet</span>
                    }*@
                </td>
               
                @*                <td>
                    @if (item.Status > 1)
                    {
                        <span class="label label-success">Assigned</span>
                    }
                    else
                    {
                        <span class="label">Not assigned yet</span>
                        <a href="#assignModal" data-toggle="modal" onclick="assign(@item.PlanId)" class="myToolTip" rel="tooltip" title="Assign to another staff">
                            <img src="/img/icons/arrow_right2.png" />
                        </a>
                    }
                </td>*@
                <td>
                    @((item.Distance.Value/1000).ToString("N2")) km(s)
                </td>
                @*                <td class="action-column">
                    <a class="btn action view" href="/Plans/Details/@item.PlanId">
                        <img src="/img/icons/notepad.png" alt="View" title="View"></a>
                </td>*@
                <td>
                    <a class="update btn action" href="javascript:void(0)" onclick="edit(@item.PlanId)">
                        <i class="icon-pencil"></i></a>
                </td>
            </tr>
                                                                                    break;
            }

        }
    </tbody>
</table>

